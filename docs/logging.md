Generated by AI

# Logging Configuration

The deepFRI2-toolbox supports both console and file logging. By default, logs are displayed in the console with colored output. Logs are automatically saved to `datasets/[NAME]/log.txt` where `[NAME]` is the dataset directory name.

## Console Logging (Default)

By default, the toolbox displays colored logs in the console:

```bash
python toolbox.py dataset -p /path/to/data -d pdb -c protein -e esm2_t6_8M_UR50D
```

## Automatic File Logging

Logs are automatically saved to `datasets/[NAME]/log.txt` where `[NAME]` is the dataset directory name. This happens for all dataset-related commands:

```bash
# Logs automatically saved to datasets/pdb-protein--20240115/log.txt
python toolbox.py dataset -p /path/to/data -d pdb -c protein -e esm2_t6_8M_UR50D

# Logs automatically saved to datasets/pdb-protein--20240115/log.txt
python toolbox.py embedding -p /path/to/dataset -e esm2_t6_8M_UR50D

# Logs automatically saved to datasets/pdb-protein--20240115/log.txt
python toolbox.py generate_sequence -p /path/to/dataset
```

## Custom File Logging

To save logs to a different location, use the `--log-file` argument:

```bash
# Save logs to a specific file instead of the default location
python toolbox.py dataset -p /path/to/data -d pdb -c protein -e esm2_t6_8M_UR50D --log-file ./custom_dataset.log

# Save logs with verbose output to custom location
python toolbox.py dataset -p /path/to/data -d pdb -c protein -e esm2_t6_8M_UR50D -v --log-file ./verbose_dataset.log
```

## Log File Features

- **Automatic Placement**: Logs are automatically saved to `datasets/[NAME]/log.txt`
- **Dual Output**: Logs are displayed in the console (with colors) and saved to the file (without colors)
- **Automatic Directory Creation**: If the log file directory doesn't exist, it will be created automatically
- **Different Log Levels**: You can set different log levels for console and file output
- **Timestamp Format**: Logs include timestamps in the format `YYYY-MM-DD HH:MM:SS`
- **Dataset Integration**: Log file path is accessible via `dataset.log_file_path()` method

## Log Format

The default log format is:
```
2024-01-15 14:30:25 INFO Starting dataset creation
2024-01-15 14:30:26 WARNING Some warning message
2024-01-15 14:30:27 ERROR Error occurred during processing
```

## Available Commands with File Logging

All toolbox commands support the `--log-file` argument:

- `dataset`: Create protein datasets
- `embedding`: Generate embeddings
- `load`: Load datasets from JSON
- `extract_sequence_and_coordinates`: Extract sequences and coordinates
- `generate_distograms`: Generate distograms
- `read_distograms`: Read distograms
- `read_pdbs`: Read PDB files
- `verify_chains`: Verify protein chains
- `create_archive`: Create PDB archives
- `input_generation`: Complete input generation pipeline

## Example Usage

```bash
# Create a dataset (logs automatically saved to datasets/pdb-protein--20240115/log.txt)
python toolbox.py dataset \
  -p /path/to/data \
  -d pdb \
  -c protein \
  -e esm2_t6_8M_UR50D

# Generate embeddings (logs automatically saved to dataset log file)
python toolbox.py embedding \
  -p /path/to/dataset \
  -e esm2_t6_8M_UR50D \
  -v

# Complete pipeline (logs automatically saved to dataset log file)
python toolbox.py input_generation \
  -p /path/to/data \
  -d pdb \
  -c protein \
  -e esm2_t6_8M_UR50D

# Custom log file location
python toolbox.py dataset \
  -p /path/to/data \
  -d pdb \
  -c protein \
  -e esm2_t6_8M_UR50D \
  --log-file ./custom_logs/dataset_$(date +%Y%m%d_%H%M%S).log
```

## Log File Management

The default log file location is automatically managed:

```bash
# Logs are automatically saved to datasets/[NAME]/log.txt
python toolbox.py dataset [args]

# For custom log file management, use timestamped files
python toolbox.py dataset [args] --log-file "./logs/dataset_$(date +%Y%m%d_%H%M%S).log"

# Use process ID in filename
python toolbox.py dataset [args] --log-file "./logs/dataset_$$.log"
```